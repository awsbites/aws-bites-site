{
  "speakers": {
    "spk_0": "Luciano",
    "spk_1": "Eoin"
  },
  "segments": [
    {
      "speakerLabel": "spk_0",
      "start": 0,
      "end": 2.56,
      "text": " ECS, or Elastic Container Service,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 2.56,
      "end": 6.2,
      "text": " lets you run containerized applications at scale on AWS."
    },
    {
      "speakerLabel": "spk_0",
      "start": 6.2,
      "end": 8.68,
      "text": " It's suitable for web applications, microservices,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 8.68,
      "end": 10.120000000000001,
      "text": " and background processing."
    },
    {
      "speakerLabel": "spk_0",
      "start": 10.120000000000001,
      "end": 13.040000000000001,
      "text": " With ECS, you can use Fargate to make it simpler,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 13.040000000000001,
      "end": 16.2,
      "text": " or the EC2 version for more advanced control."
    },
    {
      "speakerLabel": "spk_0",
      "start": 16.2,
      "end": 19.080000000000002,
      "text": " You can even extend the workload to your own data center"
    },
    {
      "speakerLabel": "spk_0",
      "start": 19.080000000000002,
      "end": 20.64,
      "text": " if that's your thing."
    },
    {
      "speakerLabel": "spk_0",
      "start": 20.64,
      "end": 23.240000000000002,
      "text": " And given all this option, how do you get a handle on cost"
    },
    {
      "speakerLabel": "spk_0",
      "start": 23.240000000000002,
      "end": 25.96,
      "text": " and optimize to get the biggest bang for your buck?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 25.96,
      "end": 27.76,
      "text": " If you stay until the end of this episode,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 27.76,
      "end": 30.720000000000002,
      "text": " we will tell you some tricks and tips that you can follow"
    },
    {
      "speakerLabel": "spk_0",
      "start": 30.720000000000002,
      "end": 33.6,
      "text": " to try to optimize cost for your Fargate"
    },
    {
      "speakerLabel": "spk_0",
      "start": 33.6,
      "end": 36.04,
      "text": " or ECS-backed EC2 deployments."
    },
    {
      "speakerLabel": "spk_0",
      "start": 36.04,
      "end": 37.72,
      "text": " I am Luciano, and I'm here with Eoin,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 37.72,
      "end": 39.64,
      "text": " and this is AWS Bites podcast."
    },
    {
      "speakerLabel": "spk_0",
      "start": 39.64,
      "end": 41.64,
      "text": " The AWS Bites Podcast is sponsored by fourTheorem."
    },
    {
      "speakerLabel": "spk_0",
      "start": 41.64,
      "end": 43.64,
      "text": " fourTheorem is an AWS partner for migration, architecture,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 43.64,
      "end": 45.64,
      "text": " and training, including ECS."
    },
    {
      "speakerLabel": "spk_0",
      "start": 45.64,
      "end": 47.64,
      "text": " Find out more at fourtheorem.com."
    },
    {
      "speakerLabel": "spk_0",
      "start": 47.64,
      "end": 57.46,
      "text": " You'll find the link in the"
    },
    {
      "speakerLabel": "spk_0",
      "start": 57.46,
      "end": 59.46,
      "text": " show notes."
    },
    {
      "speakerLabel": "spk_0",
      "start": 59.46,
      "end": 62.46,
      "text": " So first of all, it's probably a good idea to start to explain"
    },
    {
      "speakerLabel": "spk_0",
      "start": 62.46,
      "end": 64.46000000000001,
      "text": " what ECS is and what are the main concepts."
    },
    {
      "speakerLabel": "spk_0",
      "start": 64.46000000000001,
      "end": 66.46000000000001,
      "text": " Eoin, do you want to try to do that?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 66.46000000000001,
      "end": 68.46000000000001,
      "text": " I'll give that a go."
    },
    {
      "speakerLabel": "spk_1",
      "start": 68.46000000000001,
      "end": 70.46000000000001,
      "text": " Yeah, so you have two primary modes."
    },
    {
      "speakerLabel": "spk_1",
      "start": 70.46000000000001,
      "end": 72.46000000000001,
      "text": " You have ECS on EC2, which you mentioned."
    },
    {
      "speakerLabel": "spk_1",
      "start": 72.46000000000001,
      "end": 74.46000000000001,
      "text": " That's the original flavor of it,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 74.46000000000001,
      "end": 76.46000000000001,
      "text": " where you're running containers,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 76.46000000000001,
      "end": 78.46000000000001,
      "text": " and you're actually running EC2 instances,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 78.46000000000001,
      "end": 80.46000000000001,
      "text": " and you can see those instances"
    },
    {
      "speakerLabel": "spk_1",
      "start": 80.46000000000001,
      "end": 82.46000000000001,
      "text": " and manage those instances underneath."
    },
    {
      "speakerLabel": "spk_1",
      "start": 82.46000000000001,
      "end": 84.46000000000001,
      "text": " And then you've got Fargate, which is the so-called"
    },
    {
      "speakerLabel": "spk_1",
      "start": 84.46000000000001,
      "end": 86.46000000000001,
      "text": " serverless flavor of ECS,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 86.46,
      "end": 88.46,
      "text": " and that allows you to run containers without worrying"
    },
    {
      "speakerLabel": "spk_1",
      "start": 88.46,
      "end": 91.46,
      "text": " about EC2 or the operating system underneath too much."
    },
    {
      "speakerLabel": "spk_1",
      "start": 91.46,
      "end": 93.46,
      "text": " That mode is a bit simpler."
    },
    {
      "speakerLabel": "spk_1",
      "start": 93.46,
      "end": 95.46,
      "text": " I suppose the trade-off there is that you have less choice"
    },
    {
      "speakerLabel": "spk_1",
      "start": 95.46,
      "end": 98.46,
      "text": " on the underlying hardware, network speed, disk,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 98.46,
      "end": 101.46,
      "text": " and the ratio between CPU and memory,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 101.46,
      "end": 105.46,
      "text": " and you also have no GPU with Fargate, at least yet."
    },
    {
      "speakerLabel": "spk_1",
      "start": 105.46,
      "end": 108.46,
      "text": " There is a third option, which is ECS Anywhere,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 108.46,
      "end": 111.46,
      "text": " and that's where the instances are external."
    },
    {
      "speakerLabel": "spk_1",
      "start": 111.46,
      "end": 113.46,
      "text": " So if you've got a data center there with lots of hardware"
    },
    {
      "speakerLabel": "spk_1",
      "start": 113.46,
      "end": 117.46,
      "text": " lying idle, you can run ECS tasks there as well."
    },
    {
      "speakerLabel": "spk_1",
      "start": 117.46,
      "end": 119.46,
      "text": " You just have to run the ECS agent"
    },
    {
      "speakerLabel": "spk_1",
      "start": 119.46,
      "end": 123.46,
      "text": " and the systems manager agent on your on-premises instances."
    },
    {
      "speakerLabel": "spk_1",
      "start": 123.46,
      "end": 125.46,
      "text": " There's a couple of terms and concepts"
    },
    {
      "speakerLabel": "spk_1",
      "start": 125.46,
      "end": 127.46,
      "text": " we probably want to describe with ECS."
    },
    {
      "speakerLabel": "spk_1",
      "start": 127.46,
      "end": 129.45999999999998,
      "text": " So before we get into cost optimization,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 129.45999999999998,
      "end": 131.45999999999998,
      "text": " we'll talk about them because we're going to mention them"
    },
    {
      "speakerLabel": "spk_1",
      "start": 131.45999999999998,
      "end": 133.45999999999998,
      "text": " as we go through the different ways of saving cost."
    },
    {
      "speakerLabel": "spk_1",
      "start": 133.45999999999998,
      "end": 136.45999999999998,
      "text": " So the primary grouping within ECS is a Cluster,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 136.45999999999998,
      "end": 141.45999999999998,
      "text": " and if you go back to the original EC2-backed flavor of ECS,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 141.45999999999998,
      "end": 142.45999999999998,
      "text": " that's what the cluster was for."
    },
    {
      "speakerLabel": "spk_1",
      "start": 142.46,
      "end": 145.46,
      "text": " It was for grouping your instances together"
    },
    {
      "speakerLabel": "spk_1",
      "start": 145.46,
      "end": 147.46,
      "text": " into a logical grouping,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 147.46,
      "end": 149.46,
      "text": " and they would be able to run tasks for you."
    },
    {
      "speakerLabel": "spk_1",
      "start": 149.46,
      "end": 152.46,
      "text": " Now, you still use clusters if you're running Fargate,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 152.46,
      "end": 154.46,
      "text": " but you don't really have to configure very much there,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 154.46,
      "end": 157.46,
      "text": " and a cluster can combine different workloads"
    },
    {
      "speakerLabel": "spk_1",
      "start": 157.46,
      "end": 159.46,
      "text": " that are running EC2 and Fargate,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 159.46,
      "end": 161.46,
      "text": " which is kind of interesting, and we'll get into that."
    },
    {
      "speakerLabel": "spk_1",
      "start": 161.46,
      "end": 166.46,
      "text": " And then the smallest, I suppose, unit on ECS is a Task,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 166.46,
      "end": 168.46,
      "text": " and a task is one or more containers,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 168.46,
      "end": 169.46,
      "text": " so it's a bit like a pod,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 169.46,
      "end": 171.46,
      "text": " and you've got multiple containers running in it."
    },
    {
      "speakerLabel": "spk_1",
      "start": 171.46,
      "end": 172.46,
      "text": " It could be one."
    },
    {
      "speakerLabel": "spk_1",
      "start": 172.46,
      "end": 175.46,
      "text": " It could be one container with a kind of a sidecar,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 175.46,
      "end": 177.46,
      "text": " and in order to run those tasks,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 177.46,
      "end": 179.46,
      "text": " you need something called a Task Definition,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 179.46,
      "end": 182.46,
      "text": " which is where you declare what's the container image,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 182.46,
      "end": 184.46,
      "text": " is it compatible with Fargate or EC2,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 184.46,
      "end": 187.46,
      "text": " and lots of other parameters like your networking setup,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 187.46,
      "end": 189.46,
      "text": " memory, and CPU."
    },
    {
      "speakerLabel": "spk_1",
      "start": 189.46,
      "end": 191.46,
      "text": " So that's your task and task definition,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 191.46,
      "end": 194.46,
      "text": " and then if you're running groups of tasks"
    },
    {
      "speakerLabel": "spk_1",
      "start": 194.46,
      "end": 195.46,
      "text": " or pools of tasks together,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 195.46,
      "end": 198.46,
      "text": " you can use the ECS Service concept,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 198.46,
      "end": 200.46,
      "text": " and a service is basically where you say,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 200.46,
      "end": 203.46,
      "text": " I want to run a desired number of tasks,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 203.46,
      "end": 206.46,
      "text": " and I want you to scale it up and down for me."
    },
    {
      "speakerLabel": "spk_1",
      "start": 206.46,
      "end": 209.46,
      "text": " So you're leveraging the ECS managed service capability"
    },
    {
      "speakerLabel": "spk_1",
      "start": 209.46,
      "end": 211.46,
      "text": " to scale up and down for you,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 211.46,
      "end": 214.46,
      "text": " and it includes a feature called application auto scaling,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 214.46,
      "end": 216.46,
      "text": " which will scale up and down tasks,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 216.46,
      "end": 218.46,
      "text": " and if you're using EC2 under the hood,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 218.46,
      "end": 221.46,
      "text": " you can then combine that with cluster auto scaling"
    },
    {
      "speakerLabel": "spk_1",
      "start": 221.46,
      "end": 223.46,
      "text": " so that your tasks are scaling up and down,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 223.46,
      "end": 225.46,
      "text": " but also the instances are scaling up and down"
    },
    {
      "speakerLabel": "spk_1",
      "start": 225.46,
      "end": 228.46,
      "text": " to be able to run that number of tasks as well,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 228.46,
      "end": 231.46,
      "text": " and a service gives you a couple of other neat features"
    },
    {
      "speakerLabel": "spk_1",
      "start": 231.46,
      "end": 233.46,
      "text": " like deployment configurations,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 233.46,
      "end": 235.46,
      "text": " so what happens when you upgrade a new version"
    },
    {
      "speakerLabel": "spk_1",
      "start": 235.46,
      "end": 237.46,
      "text": " of that task definition,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 237.46,
      "end": 239.46,
      "text": " and what happens when things stop working?"
    },
    {
      "speakerLabel": "spk_1",
      "start": 239.46,
      "end": 241.46,
      "text": " Do you want to be able to do a circuit breaker"
    },
    {
      "speakerLabel": "spk_1",
      "start": 241.46,
      "end": 243.46,
      "text": " and roll back from that?"
    },
    {
      "speakerLabel": "spk_1",
      "start": 243.46,
      "end": 245.46,
      "text": " It includes health checks,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 245.46,
      "end": 248.46,
      "text": " and it also includes integration to load balancers as well"
    },
    {
      "speakerLabel": "spk_1",
      "start": 248.46,
      "end": 249.46,
      "text": " so that when you scale up,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 249.46,
      "end": 253.46,
      "text": " you're adding tasks into that load balancer target group."
    },
    {
      "speakerLabel": "spk_1",
      "start": 253.46,
      "end": 256.46000000000004,
      "text": " So that's really the set of concepts"
    },
    {
      "speakerLabel": "spk_1",
      "start": 256.46,
      "end": 259.46,
      "text": " you kind of need to learn if you're getting started with ECS."
    },
    {
      "speakerLabel": "spk_1",
      "start": 259.46,
      "end": 261.46,
      "text": " A lot of people might be familiar with them already,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 261.46,
      "end": 263.46,
      "text": " but pricing is sometimes a little bit more"
    },
    {
      "speakerLabel": "spk_1",
      "start": 263.46,
      "end": 267.46,
      "text": " of a nebulous area, Luciano,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 267.46,
      "end": 268.46,
      "text": " which you want to try and describe."
    },
    {
      "speakerLabel": "spk_1",
      "start": 268.46,
      "end": 270.46,
      "text": " How does ECS pricing work?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 273.46,
      "end": 276.46,
      "text": " Yes, so you mentioned that there are pretty much two different ways of running containers on ECS."
    },
    {
      "speakerLabel": "spk_0",
      "start": 276.46,
      "end": 278.46,
      "text": " Either you provide your own EC2 instances,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 278.46,
      "end": 283.46,
      "text": " or you basically delegate the task of figuring out"
    },
    {
      "speakerLabel": "spk_0",
      "start": 283.46,
      "end": 285.46,
      "text": " where the compute is by using Fargate,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 285.46,
      "end": 288.46,
      "text": " and AWS will try to figure out"
    },
    {
      "speakerLabel": "spk_0",
      "start": 288.46,
      "end": 290.46,
      "text": " how to allocate compute resources to you."
    },
    {
      "speakerLabel": "spk_0",
      "start": 290.46,
      "end": 293.46,
      "text": " So when you use EC2, it's actually pretty interesting"
    },
    {
      "speakerLabel": "spk_0",
      "start": 293.46,
      "end": 295.46,
      "text": " how that affects the pricing model,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 295.46,
      "end": 298.46,
      "text": " because you basically just pay for the EC2 instances"
    },
    {
      "speakerLabel": "spk_0",
      "start": 298.46,
      "end": 300.46,
      "text": " that you are putting into Fargate."
    },
    {
      "speakerLabel": "spk_0",
      "start": 300.46,
      "end": 303.46,
      "text": " So you just pick whatever set of EC2 instances"
    },
    {
      "speakerLabel": "spk_0",
      "start": 303.46,
      "end": 306.46,
      "text": " suits your needs, and then you know"
    },
    {
      "speakerLabel": "spk_0",
      "start": 306.46,
      "end": 308.46,
      "text": " that's going to affect your cost somehow,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 308.46,
      "end": 312.46,
      "text": " and there is no extra cost for ECS at that point."
    },
    {
      "speakerLabel": "spk_0",
      "start": 312.46,
      "end": 314.46,
      "text": " If you decide to use Fargate,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 314.46,
      "end": 318.46,
      "text": " because it's on AWS to find the compute resources,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 318.46,
      "end": 319.46,
      "text": " there is, of course, a pricing model,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 319.46,
      "end": 323.46,
      "text": " and that pricing model is based on two different dimensions,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 323.46,
      "end": 326.46,
      "text": " which is how much memory are you giving"
    },
    {
      "speakerLabel": "spk_0",
      "start": 326.46,
      "end": 330.46,
      "text": " to the specific containers that are running,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 330.46,
      "end": 334.46,
      "text": " and how many VCPUs you are giving to the container as well."
    },
    {
      "speakerLabel": "spk_0",
      "start": 334.46,
      "end": 337.46,
      "text": " And of course, there is like a unit cost,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 337.46,
      "end": 341.46,
      "text": " but then there are unit costs for both of these two dimensions."
    },
    {
      "speakerLabel": "spk_0",
      "start": 341.46,
      "end": 347.46,
      "text": " For instance, if you use one VCPU and one gigabyte of memory,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 347.46,
      "end": 349.46,
      "text": " you might be paying something like, I don't know,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 349.46,
      "end": 351.46,
      "text": " four cents for the one VCPU,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 351.46,
      "end": 354.46,
      "text": " and another something for the one gigabyte of memory"
    },
    {
      "speakerLabel": "spk_0",
      "start": 354.46,
      "end": 356.46,
      "text": " that you are giving to the container."
    },
    {
      "speakerLabel": "spk_0",
      "start": 356.46,
      "end": 359.46,
      "text": " And this makes sense, of course, in a specific region,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 359.46,
      "end": 363.46,
      "text": " and if you're using Linux x86,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 363.46,
      "end": 365.46,
      "text": " because if you're using Windows,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 365.46,
      "end": 368.46,
      "text": " the same way of calculating cost applies,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 368.46,
      "end": 370.46,
      "text": " except that the pricing is different"
    },
    {
      "speakerLabel": "spk_0",
      "start": 370.46,
      "end": 373.46,
      "text": " because you are paying for a Windows instance."
    },
    {
      "speakerLabel": "spk_0",
      "start": 373.46,
      "end": 376.46,
      "text": " And there is also an additional charge,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 376.46,
      "end": 379.46,
      "text": " which is the license which gets included."
    },
    {
      "speakerLabel": "spk_0",
      "start": 379.46,
      "end": 382.46,
      "text": " So on top of what you pay per VCPU and per gigabyte,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 382.46,
      "end": 386.46,
      "text": " you also pay something around five cents per hour"
    },
    {
      "speakerLabel": "spk_0",
      "start": 386.46,
      "end": 389.46,
      "text": " just to cover that Windows licensing cost."
    },
    {
      "speakerLabel": "spk_0",
      "start": 389.46,
      "end": 391.46,
      "text": " So keep in mind that if you use Linux,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 391.46,
      "end": 393.46,
      "text": " you're not paying the extra licensing cost."
    },
    {
      "speakerLabel": "spk_0",
      "start": 393.46,
      "end": 396.46,
      "text": " If you use Windows, you have to pay an additional charge"
    },
    {
      "speakerLabel": "spk_0",
      "start": 396.46,
      "end": 398.46,
      "text": " for covering the license effectively."
    },
    {
      "speakerLabel": "spk_0",
      "start": 398.46,
      "end": 401.46,
      "text": " So the next question might be, given this model,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 401.46,
      "end": 403.46,
      "text": " what are our options to save on cost?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 403.46,
      "end": 405.46,
      "text": " And there could be different ideas"
    },
    {
      "speakerLabel": "spk_0",
      "start": 405.46,
      "end": 407.46,
      "text": " that we are just going to try to put on the table,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 407.46,
      "end": 411.46,
      "text": " but the first one is that you can use a different processor,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 411.46,
      "end": 414.46,
      "text": " because if you use ARM or Graviton,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 414.46,
      "end": 418.46,
      "text": " it can get up to 20% cheaper when you use Fargate."
    },
    {
      "speakerLabel": "spk_0",
      "start": 418.46,
      "end": 421.46,
      "text": " It can be a little bit more variable with EC2,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 421.46,
      "end": 423.46,
      "text": " because depending on the type of instance that you pick,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 423.46,
      "end": 425.46,
      "text": " there might be differences in cost,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 425.46,
      "end": 430.46,
      "text": " but generally gets cheaper by using ARM or Graviton processors."
    },
    {
      "speakerLabel": "spk_0",
      "start": 430.46,
      "end": 432.46,
      "text": " There is also another aspect there,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 432.46,
      "end": 435.46,
      "text": " because you could get better performances with ARM,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 435.46,
      "end": 438.46,
      "text": " so maybe it doesn't necessarily affect your cost per se,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 438.46,
      "end": 442.46,
      "text": " but you might need less compute overall if you switch to ARM."
    },
    {
      "speakerLabel": "spk_0",
      "start": 442.46,
      "end": 443.46,
      "text": " So maybe that can be another thing"
    },
    {
      "speakerLabel": "spk_0",
      "start": 443.46,
      "end": 445.46,
      "text": " that ends up affecting your cost,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 445.46,
      "end": 447.46,
      "text": " because you can reduce the number of instances"
    },
    {
      "speakerLabel": "spk_0",
      "start": 447.46,
      "end": 449.46,
      "text": " or the amount of compute that you actually need"
    },
    {
      "speakerLabel": "spk_0",
      "start": 449.46,
      "end": 452.46,
      "text": " to perform your specific workloads."
    },
    {
      "speakerLabel": "spk_0",
      "start": 452.46,
      "end": 455.46,
      "text": " Another option is to use Spot,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 455.46,
      "end": 459.46,
      "text": " and you can use Spot either if you go with Fargate"
    },
    {
      "speakerLabel": "spk_0",
      "start": 459.46,
      "end": 461.46,
      "text": " or if you go with EC2."
    },
    {
      "speakerLabel": "spk_0",
      "start": 461.46,
      "end": 464.46,
      "text": " And the idea of Spot in general, if you never used"
    },
    {
      "speakerLabel": "spk_0",
      "start": 464.46,
      "end": 467.46,
      "text": " or if you never heard of what Spot actually is,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 467.46,
      "end": 470.46,
      "text": " it's basically an idea that AWS offers you"
    },
    {
      "speakerLabel": "spk_0",
      "start": 470.46,
      "end": 472.46,
      "text": " to try to sell all the spare capacity"
    },
    {
      "speakerLabel": "spk_0",
      "start": 472.46,
      "end": 474.46,
      "text": " that they have available in their data centers."
    },
    {
      "speakerLabel": "spk_0",
      "start": 474.46,
      "end": 477.46,
      "text": " So at any given moment in time, it looks like an auction."
    },
    {
      "speakerLabel": "spk_0",
      "start": 477.46,
      "end": 482.46,
      "text": " You can just try to get additional compute at a better cost"
    },
    {
      "speakerLabel": "spk_0",
      "start": 482.46,
      "end": 485.46,
      "text": " just because you are trying to buy the leftover from AWS,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 485.46,
      "end": 486.46,
      "text": " which is very interesting,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 486.46,
      "end": 488.46,
      "text": " because it makes it for a very variable market,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 488.46,
      "end": 491.46,
      "text": " where there isn't really a fixed cost"
    },
    {
      "speakerLabel": "spk_0",
      "start": 491.46,
      "end": 493.46,
      "text": " that you can easily predict."
    },
    {
      "speakerLabel": "spk_0",
      "start": 493.46,
      "end": 495.46,
      "text": " It's something that shifts all the time,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 495.46,
      "end": 498.46,
      "text": " so you're saving, even if most of the time"
    },
    {
      "speakerLabel": "spk_0",
      "start": 498.46,
      "end": 501.46,
      "text": " you can get significant saving by going to the Spot market,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 501.46,
      "end": 502.46,
      "text": " but it's very variable,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 502.46,
      "end": 504.46,
      "text": " so it's not something that you can predict"
    },
    {
      "speakerLabel": "spk_0",
      "start": 504.46,
      "end": 506.46,
      "text": " with extreme accuracy."
    },
    {
      "speakerLabel": "spk_0",
      "start": 506.46,
      "end": 510.46,
      "text": " And of course, you have different costs"
    },
    {
      "speakerLabel": "spk_0",
      "start": 510.46,
      "end": 514.46,
      "text": " in regards if you go with Fargate or EC2,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 514.46,
      "end": 516.46,
      "text": " and in general, what AWS tells you"
    },
    {
      "speakerLabel": "spk_0",
      "start": 516.46,
      "end": 518.46,
      "text": " is that you can get up to 70% saving"
    },
    {
      "speakerLabel": "spk_0",
      "start": 518.46,
      "end": 519.46,
      "text": " if you go with Fargate"
    },
    {
      "speakerLabel": "spk_0",
      "start": 519.46,
      "end": 522.46,
      "text": " and up to 90% saving if you go with EC2."
    },
    {
      "speakerLabel": "spk_0",
      "start": 522.46,
      "end": 524.46,
      "text": " But again, that really depends on the price"
    },
    {
      "speakerLabel": "spk_0",
      "start": 524.46,
      "end": 526.46,
      "text": " that you have available at the moment"
    },
    {
      "speakerLabel": "spk_0",
      "start": 526.46,
      "end": 528.46,
      "text": " when you decide to get those instances."
    },
    {
      "speakerLabel": "spk_0",
      "start": 528.46,
      "end": 530.46,
      "text": " And we will talk more about other trade-offs"
    },
    {
      "speakerLabel": "spk_0",
      "start": 530.46,
      "end": 532.46,
      "text": " that are there when you go for Spot."
    },
    {
      "speakerLabel": "spk_0",
      "start": 532.46,
      "end": 536.46,
      "text": " So it looks like such a good deal,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 536.46,
      "end": 537.46,
      "text": " so of course there are trade-offs there"
    },
    {
      "speakerLabel": "spk_0",
      "start": 537.46,
      "end": 538.46,
      "text": " that we will need to keep in mind."
    },
    {
      "speakerLabel": "spk_0",
      "start": 538.46,
      "end": 540.46,
      "text": " So stay tuned, because in the end,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 540.46,
      "end": 543.46,
      "text": " we'll cover more about what are those trade-offs there."
    },
    {
      "speakerLabel": "spk_0",
      "start": 543.46,
      "end": 547.46,
      "text": " Another option to save money is Compute Savings Plan,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 547.46,
      "end": 551.46,
      "text": " which is basically a commitment that you make to AWS"
    },
    {
      "speakerLabel": "spk_0",
      "start": 551.46,
      "end": 554.46,
      "text": " to pay a certain amount of money upfront for Compute,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 554.46,
      "end": 558.46,
      "text": " and basically you will be able to use"
    },
    {
      "speakerLabel": "spk_0",
      "start": 558.46,
      "end": 561.46,
      "text": " these computes that you are buying upfront"
    },
    {
      "speakerLabel": "spk_0",
      "start": 561.46,
      "end": 562.46,
      "text": " at a discount."
    },
    {
      "speakerLabel": "spk_0",
      "start": 562.46,
      "end": 565.46,
      "text": " And it doesn't really lock you in"
    },
    {
      "speakerLabel": "spk_0",
      "start": 565.46,
      "end": 567.46,
      "text": " on the type of instances that you can use."
    },
    {
      "speakerLabel": "spk_0",
      "start": 567.46,
      "end": 570.46,
      "text": " You have some flexibility to shift the compute as you go."
    },
    {
      "speakerLabel": "spk_0",
      "start": 570.46,
      "end": 572.46,
      "text": " So you are making this commitment"
    },
    {
      "speakerLabel": "spk_0",
      "start": 572.46,
      "end": 575.46,
      "text": " for at least one year, up to three years."
    },
    {
      "speakerLabel": "spk_0",
      "start": 575.46,
      "end": 577.46,
      "text": " So of course you cannot predict"
    },
    {
      "speakerLabel": "spk_0",
      "start": 577.46,
      "end": 580.46,
      "text": " what is your use case going forward in the future,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 580.46,
      "end": 582.46,
      "text": " so AWS gives you some room to maneuver that,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 582.46,
      "end": 584.46,
      "text": " to try to figure out if you want to switch"
    },
    {
      "speakerLabel": "spk_0",
      "start": 584.46,
      "end": 586.46,
      "text": " to different compute, you can do that."
    },
    {
      "speakerLabel": "spk_0",
      "start": 586.46,
      "end": 590.46,
      "text": " And it is actually quite interesting,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 590.46,
      "end": 593.46,
      "text": " so we will have a link to the specific page"
    },
    {
      "speakerLabel": "spk_0",
      "start": 593.46,
      "end": 594.46,
      "text": " with the Saving Plan Calculator,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 594.46,
      "end": 596.46,
      "text": " if you want to play around with this idea."
    },
    {
      "speakerLabel": "spk_0",
      "start": 596.46,
      "end": 599.46,
      "text": " But basically you can get from 20 to 52% saving"
    },
    {
      "speakerLabel": "spk_0",
      "start": 599.46,
      "end": 603.46,
      "text": " with Fargate, and up to 66% with EC2,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 603.46,
      "end": 607.46,
      "text": " and always depending on instance type, region, and so on."
    },
    {
      "speakerLabel": "spk_0",
      "start": 607.46,
      "end": 609.46,
      "text": " Now another similar concept,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 609.46,
      "end": 611.46,
      "text": " and another way that you might be using"
    },
    {
      "speakerLabel": "spk_0",
      "start": 611.46,
      "end": 615.46,
      "text": " to save money with ECS, is to use Reserved Instances,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 615.46,
      "end": 618.46,
      "text": " which is something where basically you are literally"
    },
    {
      "speakerLabel": "spk_0",
      "start": 618.46,
      "end": 620.46,
      "text": " buying upfront instances,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 620.46,
      "end": 623.46,
      "text": " and you get locked into that specific type of instance,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 623.46,
      "end": 626.46,
      "text": " and that will give you up to 72% saving"
    },
    {
      "speakerLabel": "spk_0",
      "start": 626.46,
      "end": 629.46,
      "text": " with fixed distance classes."
    },
    {
      "speakerLabel": "spk_0",
      "start": 629.46,
      "end": 634.46,
      "text": " And finally, another idea that we have here is ECS Anywhere,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 634.46,
      "end": 638.46,
      "text": " which is basically the option that we mentioned before"
    },
    {
      "speakerLabel": "spk_0",
      "start": 638.46,
      "end": 641.46,
      "text": " where you can run ECS on your own hardware."
    },
    {
      "speakerLabel": "spk_0",
      "start": 641.46,
      "end": 645.46,
      "text": " So basically you are running containers on your own data center,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 645.46,
      "end": 646.46,
      "text": " on your own spare hardware"
    },
    {
      "speakerLabel": "spk_0",
      "start": 646.46,
      "end": 650.46,
      "text": " that you have available somewhere else outside AWS,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 650.46,
      "end": 653.46,
      "text": " and you don't pay, of course, for that hardware"
    },
    {
      "speakerLabel": "spk_0",
      "start": 653.46,
      "end": 655.46,
      "text": " because we assume you already have it,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 655.46,
      "end": 657.46,
      "text": " so you probably send you already purchased,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 657.46,
      "end": 662.46,
      "text": " but there is a charge that AWS adds for every single instance"
    },
    {
      "speakerLabel": "spk_0",
      "start": 662.46,
      "end": 663.46,
      "text": " that is connected to ECS."
    },
    {
      "speakerLabel": "spk_0",
      "start": 663.46,
      "end": 666.46,
      "text": " It's very low, it's about $0.01 per hour,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 666.46,
      "end": 668.46,
      "text": " but it's something that you need to keep in mind,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 668.46,
      "end": 671.46,
      "text": " maybe if you have thousands of smaller instances"
    },
    {
      "speakerLabel": "spk_0",
      "start": 671.46,
      "end": 675.46,
      "text": " in regards instead if you have a few very big instances."
    },
    {
      "speakerLabel": "spk_0",
      "start": 675.46,
      "end": 680.46,
      "text": " So the next question is, can you mix cost savings?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 680.46,
      "end": 684.46,
      "text": " And meaning, can you mix these strategies of cost saving?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 684.46,
      "end": 685.46,
      "text": " Of course you can."
    },
    {
      "speakerLabel": "spk_0",
      "start": 685.46,
      "end": 690.46,
      "text": " For instance, you can mix using a Graviton processor with Savings Plans,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 690.46,
      "end": 693.46,
      "text": " but you cannot use Savings Plans with Spot."
    },
    {
      "speakerLabel": "spk_0",
      "start": 693.46,
      "end": 696.46,
      "text": " So something to keep in mind that there is some flexibility there"
    },
    {
      "speakerLabel": "spk_0",
      "start": 696.46,
      "end": 698.46,
      "text": " to use different strategies and combine them,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 698.46,
      "end": 702.46,
      "text": " but not every single strategy can be used together with the other."
    },
    {
      "speakerLabel": "spk_0",
      "start": 702.46,
      "end": 707.46,
      "text": " Another point is if you are doing cost optimization,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 707.46,
      "end": 708.46,
      "text": " you might have this question."
    },
    {
      "speakerLabel": "spk_0",
      "start": 708.46,
      "end": 712.46,
      "text": " Do you always go for EC2 or do you go for Fargate?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 712.46,
      "end": 718.46,
      "text": " Because for what we said so far, EC2 seems to be cheaper in general,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 718.46,
      "end": 719.46,
      "text": " so you might be thinking,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 719.46,
      "end": 723.46,
      "text": " should I just use EC2 and not Fargate and save money that way?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 723.46,
      "end": 725.46,
      "text": " It is actually a very interesting question."
    },
    {
      "speakerLabel": "spk_0",
      "start": 725.46,
      "end": 728.46,
      "text": " It's very hard to answer in absolute,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 728.46,
      "end": 731.46,
      "text": " but in general we feel that it's not necessarily a good idea"
    },
    {
      "speakerLabel": "spk_0",
      "start": 731.46,
      "end": 735.46,
      "text": " because the price difference is not that much,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 735.46,
      "end": 739.46,
      "text": " and we need to remember that EC2, you still have to manage your instances,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 739.46,
      "end": 742.46,
      "text": " while Fargate is doing all that work for you."
    },
    {
      "speakerLabel": "spk_0",
      "start": 742.46,
      "end": 744.46,
      "text": " When you need compute capacity,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 744.46,
      "end": 748.46,
      "text": " AWS will figure out on which EC2s to run that compute capacity,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 748.46,
      "end": 751.46,
      "text": " and it's not up to you to provision those instances"
    },
    {
      "speakerLabel": "spk_0",
      "start": 751.46,
      "end": 753.46,
      "text": " and make sure that they are secure,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 753.46,
      "end": 755.46,
      "text": " that they are connected to the network in the right way,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 755.46,
      "end": 758.46,
      "text": " and all these kind of things that you will need to do on your own."
    },
    {
      "speakerLabel": "spk_0",
      "start": 758.46,
      "end": 761.46,
      "text": " So you definitely get slightly cheaper prices"
    },
    {
      "speakerLabel": "spk_0",
      "start": 761.46,
      "end": 762.46,
      "text": " when you go with your own EC2"
    },
    {
      "speakerLabel": "spk_0",
      "start": 762.46,
      "end": 767.46,
      "text": " if you just look at the cost of literally running that particular workload,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 767.46,
      "end": 769.46,
      "text": " but at the same time you have to take on board on you"
    },
    {
      "speakerLabel": "spk_0",
      "start": 769.46,
      "end": 772.46,
      "text": " all the additional cost of managing those instances."
    },
    {
      "speakerLabel": "spk_0",
      "start": 772.46,
      "end": 774.46,
      "text": " So from a total cost of ownership perspective,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 774.46,
      "end": 778.46,
      "text": " Fargate still seems a lot more convenient than EC2,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 778.46,
      "end": 783.46,
      "text": " considering that the price difference is not that high after all."
    },
    {
      "speakerLabel": "spk_0",
      "start": 783.46,
      "end": 787.46,
      "text": " So I suppose that the question that we can try to address next is"
    },
    {
      "speakerLabel": "spk_0",
      "start": 787.46,
      "end": 791.46,
      "text": " how do you set up ECS to use Spot instances?"
    },
    {
      "speakerLabel": "spk_1",
      "start": 791.46,
      "end": 795.46,
      "text": " We said that you can get up to 70% saving with Fargate Spot."
    },
    {
      "speakerLabel": "spk_1",
      "start": 795.46,
      "end": 797.46,
      "text": " It's interesting that with Fargate Spot,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 797.46,
      "end": 802.46,
      "text": " you get actually pretty close to 70% almost all the time with Fargate Spot."
    },
    {
      "speakerLabel": "spk_1",
      "start": 802.46,
      "end": 807.46,
      "text": " It's generally somewhere in the region of 60, 67, 68% saving,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 807.46,
      "end": 810.46,
      "text": " whereas with EC2 you're paying individual Spot prices"
    },
    {
      "speakerLabel": "spk_1",
      "start": 810.46,
      "end": 812.46,
      "text": " for individual instance types."
    },
    {
      "speakerLabel": "spk_1",
      "start": 812.46,
      "end": 814.46,
      "text": " So it's actually per instance type a lot more variables"
    },
    {
      "speakerLabel": "spk_1",
      "start": 814.46,
      "end": 819.46,
      "text": " so it can sway between like 50% and 90%."
    },
    {
      "speakerLabel": "spk_1",
      "start": 819.46,
      "end": 821.46,
      "text": " There's some tools you can use actually for EC2"
    },
    {
      "speakerLabel": "spk_1",
      "start": 821.46,
      "end": 824.46,
      "text": " which make it a little bit more transparent"
    },
    {
      "speakerLabel": "spk_1",
      "start": 824.46,
      "end": 826.46,
      "text": " what the historical Spot prices are."
    },
    {
      "speakerLabel": "spk_1",
      "start": 826.46,
      "end": 829.46,
      "text": " You can actually go into the EC2 console and look at the historical pricing."
    },
    {
      "speakerLabel": "spk_1",
      "start": 829.46,
      "end": 832.46,
      "text": " There's an API for it and you can use the AWS CLI"
    },
    {
      "speakerLabel": "spk_1",
      "start": 832.46,
      "end": 834.46,
      "text": " to look at the historical Spot prices,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 834.46,
      "end": 837.46,
      "text": " but there's also a couple of tools that are worth mentioning."
    },
    {
      "speakerLabel": "spk_1",
      "start": 837.46,
      "end": 841.46,
      "text": " One is an open source tool from Amazon called Amazon EC2 Instance Selector,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 841.46,
      "end": 845.46,
      "text": " which is just a really nice CLI tool that will allow you to select instance types"
    },
    {
      "speakerLabel": "spk_1",
      "start": 845.46,
      "end": 847.46,
      "text": " and filter for the different criteria you want"
    },
    {
      "speakerLabel": "spk_1",
      "start": 847.46,
      "end": 850.46,
      "text": " and then give you a report back saying these are the instance types"
    },
    {
      "speakerLabel": "spk_1",
      "start": 850.46,
      "end": 852.46,
      "text": " that are suitable for you."
    },
    {
      "speakerLabel": "spk_1",
      "start": 852.46,
      "end": 854.46,
      "text": " And then there's a website from Vantage."
    },
    {
      "speakerLabel": "spk_1",
      "start": 854.46,
      "end": 856.46,
      "text": " It's ec2instances.info."
    },
    {
      "speakerLabel": "spk_1",
      "start": 856.46,
      "end": 858.46,
      "text": " We'll give all those links in the show notes"
    },
    {
      "speakerLabel": "spk_1",
      "start": 858.46,
      "end": 861.46,
      "text": " and that tool will show you the min and max Spot prices."
    },
    {
      "speakerLabel": "spk_1",
      "start": 861.46,
      "end": 865.46,
      "text": " So when it comes to actually setting up these Spot,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 865.46,
      "end": 870.46,
      "text": " we mentioned that for a cluster you can choose Fargate or EC2 or mix them."
    },
    {
      "speakerLabel": "spk_1",
      "start": 870.46,
      "end": 873.46,
      "text": " So what you basically do there is you have this concept of capacity providers."
    },
    {
      "speakerLabel": "spk_1",
      "start": 873.46,
      "end": 876.46,
      "text": " So within your cluster everybody gets Fargate"
    },
    {
      "speakerLabel": "spk_1",
      "start": 876.46,
      "end": 878.46,
      "text": " and Fargate Spot capacity providers out of the box"
    },
    {
      "speakerLabel": "spk_1",
      "start": 878.46,
      "end": 880.46,
      "text": " because they're always there. You don't have to set anything up."
    },
    {
      "speakerLabel": "spk_1",
      "start": 880.46,
      "end": 883.46,
      "text": " And then you can create your own capacity providers for EC2"
    },
    {
      "speakerLabel": "spk_1",
      "start": 883.46,
      "end": 887.46,
      "text": " by creating auto scaling groups in EC2 and referencing them."
    },
    {
      "speakerLabel": "spk_1",
      "start": 887.46,
      "end": 889.46,
      "text": " So you basically say I'm creating a capacity provider"
    },
    {
      "speakerLabel": "spk_1",
      "start": 889.46,
      "end": 894.46,
      "text": " and it's using an auto scaling group that uses a launch template for Spot instances"
    },
    {
      "speakerLabel": "spk_1",
      "start": 894.46,
      "end": 898.46,
      "text": " and that launch template specifies that I'm going to use this different,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 898.46,
      "end": 902.46,
      "text": " this set of classes of EC2 instance and that's one auto scaling group."
    },
    {
      "speakerLabel": "spk_1",
      "start": 902.46,
      "end": 904.46,
      "text": " But then you can create an on demand auto scaling group as well"
    },
    {
      "speakerLabel": "spk_1",
      "start": 904.46,
      "end": 906.46,
      "text": " and you can add that as a capacity provider."
    },
    {
      "speakerLabel": "spk_1",
      "start": 906.46,
      "end": 909.46,
      "text": " I think you can add up to like 10 capacity providers."
    },
    {
      "speakerLabel": "spk_1",
      "start": 909.46,
      "end": 913.46,
      "text": " But then you need to combine them in what's called a capacity provider strategy"
    },
    {
      "speakerLabel": "spk_1",
      "start": 913.46,
      "end": 917.46,
      "text": " where you say okay I'm going to use some from this capacity provider"
    },
    {
      "speakerLabel": "spk_1",
      "start": 917.46,
      "end": 919.46,
      "text": " and some from this other capacity provider"
    },
    {
      "speakerLabel": "spk_1",
      "start": 919.46,
      "end": 921.46,
      "text": " and that could be a mixture of EC2 and EC2 Spot"
    },
    {
      "speakerLabel": "spk_1",
      "start": 921.46,
      "end": 923.46,
      "text": " and then you give a weight to each of them."
    },
    {
      "speakerLabel": "spk_1",
      "start": 923.46,
      "end": 928.46,
      "text": " So you can say for every one on demand instance I want four Spot instances."
    },
    {
      "speakerLabel": "spk_1",
      "start": 928.46,
      "end": 931.46,
      "text": " And but you can also specify a baseline."
    },
    {
      "speakerLabel": "spk_1",
      "start": 931.46,
      "end": 936.46,
      "text": " So you could say I want a steady baseline of two on demand instances as well."
    },
    {
      "speakerLabel": "spk_1",
      "start": 936.46,
      "end": 939.46,
      "text": " So you could say my first two instances will be on demand"
    },
    {
      "speakerLabel": "spk_1",
      "start": 939.46,
      "end": 942.46,
      "text": " and for the rest beyond that there's a ratio between on demand and Spot."
    },
    {
      "speakerLabel": "spk_1",
      "start": 942.46,
      "end": 946.46,
      "text": " And you can actually mix multiple capacity providers in that."
    },
    {
      "speakerLabel": "spk_1",
      "start": 946.46,
      "end": 952.46,
      "text": " It is worth stating that you, while you can mix Fargate and EC2 providers in your cluster,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 952.46,
      "end": 954.46,
      "text": " you can't really use them at the same time."
    },
    {
      "speakerLabel": "spk_1",
      "start": 954.46,
      "end": 958.46,
      "text": " So if you set up a service that scales up to a certain number of desired tasks,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 958.46,
      "end": 961.46,
      "text": " you can't have a mix of Fargate and EC2 in that."
    },
    {
      "speakerLabel": "spk_1",
      "start": 961.46,
      "end": 966.46,
      "text": " You can only use Fargate together with Fargate Spot or EC2, together with EC2 Spot."
    },
    {
      "speakerLabel": "spk_1",
      "start": 966.46,
      "end": 972.46,
      "text": " You can always use run task API directly so you don't have to use a service."
    },
    {
      "speakerLabel": "spk_1",
      "start": 972.46,
      "end": 975.46,
      "text": " You could just launch tasks yourself using the run task API"
    },
    {
      "speakerLabel": "spk_1",
      "start": 975.46,
      "end": 979.46,
      "text": " and every time you call it run task API you can launch up to 10 tasks"
    },
    {
      "speakerLabel": "spk_1",
      "start": 979.46,
      "end": 981.46,
      "text": " and you can pick whichever capacity provider you want."
    },
    {
      "speakerLabel": "spk_1",
      "start": 981.46,
      "end": 986.46,
      "text": " So that's another way you could potentially mix and match between Fargate and EC2"
    },
    {
      "speakerLabel": "spk_1",
      "start": 986.46,
      "end": 987.46,
      "text": " and get a blend."
    },
    {
      "speakerLabel": "spk_1",
      "start": 987.46,
      "end": 990.46,
      "text": " But obviously the more you do, the more complex it can become there."
    },
    {
      "speakerLabel": "spk_1",
      "start": 990.46,
      "end": 995.46,
      "text": " So you have to trade off between the complexity of basically managing your own scheduler"
    },
    {
      "speakerLabel": "spk_1",
      "start": 995.46,
      "end": 998.46,
      "text": " and orchestrator and your cost saving."
    },
    {
      "speakerLabel": "spk_1",
      "start": 998.46,
      "end": 1001.46,
      "text": " So Spot is pretty advantageous."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1001.46,
      "end": 1007.46,
      "text": " I mean, if we just go back to our pricing example, we've run a few calculations there today."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1007.46,
      "end": 1012.46,
      "text": " You have to kind of look at how many CPUs you want and how much memory you want."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1012.46,
      "end": 1014.46,
      "text": " Look at the available EC2 instances."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1014.46,
      "end": 1020.46,
      "text": " With EC2 you always want to pick a ratio that matches your task definitions CPU to memory ratio"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1020.46,
      "end": 1023.46,
      "text": " and then you can do a pricing comparison."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1023.46,
      "end": 1028.46,
      "text": " And if we look at generally the, if you look at a one vCPU configuration"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1028.46,
      "end": 1033.46,
      "text": " with two or four gigabytes of memory, you're talking about the range of like four cents or five cents per hour"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1033.46,
      "end": 1035.46,
      "text": " for a CPU and memory."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1035.46,
      "end": 1040.46,
      "text": " And when you compare Fargate and EC2, you get a bit of a,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1040.46,
      "end": 1047.46,
      "text": " you pay a little bit extra for Fargate, but it's not completely miles away or anything."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1047.46,
      "end": 1051.46,
      "text": " So you might say, okay, well Spot is giving me up to 70% saving in here,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1051.46,
      "end": 1053.46,
      "text": " so why can't I just use Spot all the time?"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1053.46,
      "end": 1056.46,
      "text": " So what are the disadvantages of Spot?"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1056.46,
      "end": 1061.46,
      "text": " Well, you mentioned that they use spare capacity, so that means that when,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1061.46,
      "end": 1063.46,
      "text": " there will come a point where the spare capacity isn't spare anymore"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1063.46,
      "end": 1067.46,
      "text": " because somebody actually wants to run an on-demand instance."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1067.46,
      "end": 1071.46,
      "text": " And in that case, you'll get a notification, a 120 second warning from AWS"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1071.46,
      "end": 1074.46,
      "text": " that they're going to shut your instance or your Fargate container down"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1074.46,
      "end": 1078.46,
      "text": " and you have to gracefully shut down and move your work somewhere else"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1078.46,
      "end": 1083.46,
      "text": " or just be satisfied that you're going to have to wait for a while."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1083.46,
      "end": 1088.46,
      "text": " The other disadvantage is that prices fluctuate, so it's not exactly deterministic."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1088.46,
      "end": 1093.46,
      "text": " And sometimes instances won't be available for your instance class or in Fargate even."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1093.46,
      "end": 1096.46,
      "text": " It depends on your region, the time and the demand,"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1096.46,
      "end": 1099.46,
      "text": " and of course, there are Linux and x86 only."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1099.46,
      "end": 1103.46,
      "text": " So you don't get ARM, Spot, Fargate containers at the moment"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1103.46,
      "end": 1107.46,
      "text": " and you don't get Windows, Windows Spot."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1107.46,
      "end": 1112.46,
      "text": " If you're using something that's on demand, has to be predictable."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1112.46,
      "end": 1115.46,
      "text": " It's really a good idea to look at compute savings plans instead."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1115.46,
      "end": 1119.46,
      "text": " It's really flexible, but if you know you're going to be using a certain amount of compute"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1119.46,
      "end": 1123.46,
      "text": " for a year or three years, then it's a significant save that you can get there."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1123.46,
      "end": 1126.46,
      "text": " On this topic, what else do we need to bear in mind, Luciano?"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1126.46,
      "end": 1128.46,
      "text": " Is there anything else we need to cover off?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1128.46,
      "end": 1134.46,
      "text": " I think in general, we focus a lot here on the compute cost itself."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1134.46,
      "end": 1141.46,
      "text": " And it's definitely the biggest chunk of the cost when you run ECS workloads."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1141.46,
      "end": 1146.46,
      "text": " Of course, when you run ECS workloads, you will have additional cost coming from your logs,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1146.46,
      "end": 1153.46,
      "text": " your metrics, data transfer, disk I/O, and we can even extend that if you're using databases,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1153.46,
      "end": 1157.46,
      "text": " probably how you interact with the database, how much data do you store and so on,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1157.46,
      "end": 1160.46,
      "text": " and the cost of, I don't know whether it's Dynamo or RDS."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1160.46,
      "end": 1168.46,
      "text": " So in general, it's very hard to make just cost optimization only looking at the compute itself."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1168.46,
      "end": 1171.46,
      "text": " So I would suggest to expand a little bit the horizon there"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1171.46,
      "end": 1174.46,
      "text": " and see if there are other opportunities for cost optimization."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1174.46,
      "end": 1179.46,
      "text": " For instance, maybe you can reduce the retention of logs if you are storing logs indefinitely."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1179.46,
      "end": 1183.46,
      "text": " You can put a retention time, or if you have some retention time that is very high,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1183.46,
      "end": 1186.46,
      "text": " maybe you can reduce that and that can give you significant cost saving"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1186.46,
      "end": 1188.46,
      "text": " almost immediately with a very small change."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1188.46,
      "end": 1194.46,
      "text": " So I guess the suggestion there is try to look for opportunities to do cost saving,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1194.46,
      "end": 1201.46,
      "text": " not just outside the realm of ECS itself, but just looking at what else ECS is kind of forcing you to use"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1201.46,
      "end": 1203.46,
      "text": " because you need to run very specific workloads."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1203.46,
      "end": 1207.46,
      "text": " And there are some other tools that we might want to recommend there"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1207.46,
      "end": 1212.46,
      "text": " just to have other ideas on where there can be opportunities to save cost."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1212.46,
      "end": 1218.46,
      "text": " One is the Fargate Right Sizing Dashboard, which basically is a tool that you can just deploy in your own account"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1218.46,
      "end": 1225.46,
      "text": " and use as container insights metrics to identify if there is any waste or optimization opportunities."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1225.46,
      "end": 1231.46,
      "text": " So we will have the link in the show notes, but again, it's just something you can decide to deploy in your own account"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1231.46,
      "end": 1234.46,
      "text": " and use it as an additional tool to get more visibility."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1234.46,
      "end": 1239.46,
      "text": " And similarly, there is a tool already in AWS, in AWS Cost Explorer specifically,"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1239.46,
      "end": 1243.46,
      "text": " that is something that can give you a recommendation for right sizing EC2 instances."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1243.46,
      "end": 1249.46,
      "text": " So something that you can just have a look at if you're using a lot of EC2 instances to back your ECS"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1249.46,
      "end": 1253.46,
      "text": " and just make sure that those instances are actually used well enough."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1253.46,
      "end": 1258.46,
      "text": " Maybe you can just get away with a smaller instance or just a different kind of instance."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1258.46,
      "end": 1260.46,
      "text": " So that's everything we have for today."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1260.46,
      "end": 1266.46,
      "text": " And because this is a very big topic and I think cost optimization, as you say, is a little bit nebulous."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1266.46,
      "end": 1267.46,
      "text": " It's a little bit of an art."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1267.46,
      "end": 1272.46,
      "text": " We would be really curious to know if you have other tricks that you learned along the way."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1272.46,
      "end": 1279.46,
      "text": " Please share them with us and we'll be sure to share them on Twitter, on YouTube or in a next future episode."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1279.46,
      "end": 1282.46,
      "text": " And this is definitely a topic where you never learn enough."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1282.46,
      "end": 1284.46,
      "text": " You always need to discover something new."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1284.46,
      "end": 1290.46,
      "text": " So I think it's very, very important that as a community, we keep sharing what we learn so we can all learn from each other."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1290.46,
      "end": 1293.46,
      "text": " So thank you very much for being with us today."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1293.46,
      "end": 1297.46,
      "text": " I hope you found this informative and we look forward to seeing you in the next episode."
    },
    {
      "speakerLabel": "spk_0",
      "start": 1297.46,
      "end": 1315.46,
      "text": " Bye."
    }
  ]
}