{
  "speakers": {
    "spk_0": "spk_0",
    "spk_1": "spk_1",
    "spk_2": "spk_2"
  },
  "segments": [
    {
      "speakerLabel": "spk_0",
      "start": 0,
      "end": 5.72,
      "text": " S3, an object storage service, is one of the oldest and most used AWS services."
    },
    {
      "speakerLabel": "spk_0",
      "start": 5.72,
      "end": 9.64,
      "text": " Even if you don't use AWS regularly, chances are that you have been working with a project"
    },
    {
      "speakerLabel": "spk_0",
      "start": 9.64,
      "end": 11.28,
      "text": " that relies on S3."
    },
    {
      "speakerLabel": "spk_0",
      "start": 11.28,
      "end": 15.02,
      "text": " In this episode, we will cover some of the best practices to adopt when creating and"
    },
    {
      "speakerLabel": "spk_0",
      "start": 15.02,
      "end": 17.080000000000002,
      "text": " configuring S3 packets."
    },
    {
      "speakerLabel": "spk_0",
      "start": 17.080000000000002,
      "end": 20.52,
      "text": " With the list that we are going to cover today, you'll be able to start with the right setup"
    },
    {
      "speakerLabel": "spk_0",
      "start": 20.52,
      "end": 24.44,
      "text": " straight away and won't have to go back and revisit all your packets."
    },
    {
      "speakerLabel": "spk_0",
      "start": 24.44,
      "end": 36.8,
      "text": " I am Luciano and I'm here with Eoin for another episode of AWS Bites podcast."
    },
    {
      "speakerLabel": "spk_0",
      "start": 36.8,
      "end": 41.5,
      "text": " Today's sponsor is FortiorM, an AWS consulting partner that helps your organization to get"
    },
    {
      "speakerLabel": "spk_0",
      "start": 41.5,
      "end": 44.16,
      "text": " excited again about building software."
    },
    {
      "speakerLabel": "spk_0",
      "start": 44.16,
      "end": 47.64,
      "text": " Find more at fortiorm.com, you'll find the link in the show notes."
    },
    {
      "speakerLabel": "spk_0",
      "start": 47.64,
      "end": 53.32,
      "text": " So, I would like to start today with a very quick recap of what is S3, because maybe it's"
    },
    {
      "speakerLabel": "spk_0",
      "start": 53.32,
      "end": 56.480000000000004,
      "text": " the first time that you are approaching this topic and I think it's good to get the basics"
    },
    {
      "speakerLabel": "spk_0",
      "start": 56.480000000000004,
      "end": 60.04,
      "text": " nailed down, or maybe you haven't used S3 in a while, and again, it's a good practice"
    },
    {
      "speakerLabel": "spk_0",
      "start": 60.04,
      "end": 63.6,
      "text": " to just review what are the main concepts that we will be relying on for the rest of"
    },
    {
      "speakerLabel": "spk_0",
      "start": 63.6,
      "end": 64.6,
      "text": " the episode."
    },
    {
      "speakerLabel": "spk_0",
      "start": 64.6,
      "end": 67.2,
      "text": " So, S3 is a storage service."
    },
    {
      "speakerLabel": "spk_0",
      "start": 67.2,
      "end": 71.74000000000001,
      "text": " The name actually means simple storage service, and the idea is that basically it allows you"
    },
    {
      "speakerLabel": "spk_0",
      "start": 71.74000000000001,
      "end": 75.92,
      "text": " to store files in a scalable, reliable, and somewhat cheap way."
    },
    {
      "speakerLabel": "spk_0",
      "start": 75.92,
      "end": 78.32,
      "text": " There are two main concepts."
    },
    {
      "speakerLabel": "spk_0",
      "start": 78.32,
      "end": 79.64,
      "text": " The first one is bucket."
    },
    {
      "speakerLabel": "spk_0",
      "start": 79.64,
      "end": 83.88,
      "text": " So the idea of a bucket is pretty much, it is a container where you can store your files."
    },
    {
      "speakerLabel": "spk_0",
      "start": 83.88,
      "end": 89.92,
      "text": " So you can think about that as a folder or a drive in a kind of a file system, parallel"
    },
    {
      "speakerLabel": "spk_0",
      "start": 89.92,
      "end": 90.92,
      "text": " word."
    },
    {
      "speakerLabel": "spk_0",
      "start": 90.92,
      "end": 93.6,
      "text": " But of course, it's in the cloud and it scales very different."
    },
    {
      "speakerLabel": "spk_0",
      "start": 93.6,
      "end": 98.48,
      "text": " It scales to different sizes than you can just scale your local drive."
    },
    {
      "speakerLabel": "spk_0",
      "start": 98.48,
      "end": 99.96000000000001,
      "text": " And what do you put in a bucket?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 99.96000000000001,
      "end": 101.08,
      "text": " You put objects."
    },
    {
      "speakerLabel": "spk_0",
      "start": 101.08,
      "end": 106.06,
      "text": " So this is the actual term that S3 uses for the idea is files, pretty much."
    },
    {
      "speakerLabel": "spk_0",
      "start": 106.06,
      "end": 111.76,
      "text": " And every file is identified univocally by a key that needs to be unique in that particular"
    },
    {
      "speakerLabel": "spk_0",
      "start": 111.76,
      "end": 112.76,
      "text": " bucket."
    },
    {
      "speakerLabel": "spk_0",
      "start": 112.76,
      "end": 116.84,
      "text": " Now, again, this is an AWS service, so you can use it from the web console, you can use"
    },
    {
      "speakerLabel": "spk_0",
      "start": 116.84,
      "end": 120.96000000000001,
      "text": " it from the CLI, or even programmatically with one of the many SDKs that are available"
    },
    {
      "speakerLabel": "spk_0",
      "start": 120.96000000000001,
      "end": 123.32000000000001,
      "text": " for different programming languages."
    },
    {
      "speakerLabel": "spk_0",
      "start": 123.32000000000001,
      "end": 127.36,
      "text": " Just to give you some common use cases, when you use S3, what you could do with it, you"
    },
    {
      "speakerLabel": "spk_0",
      "start": 127.36,
      "end": 131.44,
      "text": " could store images, videos, or other assets that you need, for instance, for a web application"
    },
    {
      "speakerLabel": "spk_0",
      "start": 131.44,
      "end": 133.1,
      "text": " or a mobile application."
    },
    {
      "speakerLabel": "spk_0",
      "start": 133.1,
      "end": 138.29999999999998,
      "text": " You can use it as a way to store backups in case of disaster recovery."
    },
    {
      "speakerLabel": "spk_0",
      "start": 138.29999999999998,
      "end": 140.68,
      "text": " You can also use for long term archival."
    },
    {
      "speakerLabel": "spk_0",
      "start": 140.68,
      "end": 144.32,
      "text": " There is another service that is often used with S3 called Glacier and you can easily"
    },
    {
      "speakerLabel": "spk_0",
      "start": 144.32,
      "end": 148.88,
      "text": " transition your files from S3 to Glacier for long term archival."
    },
    {
      "speakerLabel": "spk_0",
      "start": 148.88,
      "end": 153.4,
      "text": " You can also use it to implement big data solutions or data lakes where you are going"
    },
    {
      "speakerLabel": "spk_0",
      "start": 153.4,
      "end": 157.88,
      "text": " to be storing lots of structured files and then you can query those files directly from"
    },
    {
      "speakerLabel": "spk_0",
      "start": 157.88,
      "end": 159.04,
      "text": " S3."
    },
    {
      "speakerLabel": "spk_0",
      "start": 159.04,
      "end": 162.76,
      "text": " You can also use it for application hosting, which means that if you're building a static"
    },
    {
      "speakerLabel": "spk_0",
      "start": 162.76,
      "end": 166.88,
      "text": " web frontend, you can put it in S3 and expose it as a website."
    },
    {
      "speakerLabel": "spk_0",
      "start": 166.88,
      "end": 169.64,
      "text": " This is a topic that we covered a couple of times already."
    },
    {
      "speakerLabel": "spk_0",
      "start": 169.64,
      "end": 173.23999999999998,
      "text": " We will add the links in the previous episode talking about this in more details in the"
    },
    {
      "speakerLabel": "spk_0",
      "start": 173.23999999999998,
      "end": 175.12,
      "text": " show notes."
    },
    {
      "speakerLabel": "spk_0",
      "start": 175.12,
      "end": 179.44,
      "text": " Now why are we talking today about configuring buckets correctly?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 179.44,
      "end": 183.95999999999998,
      "text": " Because this is a common topic and there are very common mistakes that happen all the time."
    },
    {
      "speakerLabel": "spk_0",
      "start": 183.95999999999998,
      "end": 186.51999999999998,
      "text": " You will read them all the time in the news."
    },
    {
      "speakerLabel": "spk_0",
      "start": 186.51999999999998,
      "end": 191.28,
      "text": " Some of the common issues are accidentally leaving buckets publicly accessible, which"
    },
    {
      "speakerLabel": "spk_0",
      "start": 191.28,
      "end": 194.82,
      "text": " there have been some very big industry failures."
    },
    {
      "speakerLabel": "spk_0",
      "start": 194.82,
      "end": 198.84,
      "text": " So if you're curious, you can search for the Equifax and the Capital One instances of this"
    },
    {
      "speakerLabel": "spk_0",
      "start": 198.84,
      "end": 202.36,
      "text": " incident just to get an idea of the magnitude of the problem."
    },
    {
      "speakerLabel": "spk_0",
      "start": 202.36,
      "end": 204.42000000000002,
      "text": " But the idea is that you just forget to make it private."
    },
    {
      "speakerLabel": "spk_0",
      "start": 204.42000000000002,
      "end": 209.02,
      "text": " So whoever figures out the bucket name can read any file in that bucket and all the sensitive"
    },
    {
      "speakerLabel": "spk_0",
      "start": 209.02,
      "end": 212.36,
      "text": " information that might be stored in that bucket."
    },
    {
      "speakerLabel": "spk_0",
      "start": 212.36,
      "end": 217.52,
      "text": " Or other problems might be if you don't use a very good naming convention."
    },
    {
      "speakerLabel": "spk_0",
      "start": 217.52,
      "end": 221.4,
      "text": " This is because the names are unique across every account and every region."
    },
    {
      "speakerLabel": "spk_0",
      "start": 221.4,
      "end": 224.20000000000002,
      "text": " You might end up having a conflict with somebody else's bucket."
    },
    {
      "speakerLabel": "spk_0",
      "start": 224.20000000000002,
      "end": 228.58,
      "text": " So you are not in a position where you can automatically provision that bucket maybe"
    },
    {
      "speakerLabel": "spk_0",
      "start": 228.58,
      "end": 230.04000000000002,
      "text": " if you're using some script."
    },
    {
      "speakerLabel": "spk_0",
      "start": 230.04000000000002,
      "end": 232.04000000000002,
      "text": " So you'll need to figure out some workaround."
    },
    {
      "speakerLabel": "spk_0",
      "start": 232.04000000000002,
      "end": 236.68,
      "text": " So having good convention there will help you out to avoid conflicts."
    },
    {
      "speakerLabel": "spk_0",
      "start": 236.68,
      "end": 238.36,
      "text": " Other issues are accidental deletion."
    },
    {
      "speakerLabel": "spk_0",
      "start": 238.36,
      "end": 243.72,
      "text": " So you might end up deleting files and you maybe didn't have a way to kind of have copies"
    },
    {
      "speakerLabel": "spk_0",
      "start": 243.72,
      "end": 245.22,
      "text": " of this file somewhere else."
    },
    {
      "speakerLabel": "spk_0",
      "start": 245.22,
      "end": 249.96,
      "text": " So you basically lost information that might be very vital for your business."
    },
    {
      "speakerLabel": "spk_0",
      "start": 249.96,
      "end": 252.6,
      "text": " And we will see how you can protect yourself from that."
    },
    {
      "speakerLabel": "spk_0",
      "start": 252.6,
      "end": 257.62,
      "text": " And the last one is missing encryption or in general misconfiguration that might force"
    },
    {
      "speakerLabel": "spk_0",
      "start": 257.62,
      "end": 261.84,
      "text": " you to eventually just to fix the problem to have to migrate all the data to another"
    },
    {
      "speakerLabel": "spk_0",
      "start": 261.84,
      "end": 264.38,
      "text": " bucket that is configured correctly."
    },
    {
      "speakerLabel": "spk_0",
      "start": 264.38,
      "end": 269.04,
      "text": " And therefore all the files copied there will be correctly provisioned."
    },
    {
      "speakerLabel": "spk_0",
      "start": 269.04,
      "end": 271.6,
      "text": " So shall we start by discussing bucket naming?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 271.6,
      "end": 273.42,
      "text": " Eoin, what do you think?"
    },
    {
      "speakerLabel": "spk_1",
      "start": 273.42,
      "end": 276.16,
      "text": " Bucket naming shouldn't be that much of a big deal, but in fact, what you choose for"
    },
    {
      "speakerLabel": "spk_1",
      "start": 276.16,
      "end": 279.34000000000003,
      "text": " your bucket names, especially if you want to have nice consistent bucket names across"
    },
    {
      "speakerLabel": "spk_1",
      "start": 279.34000000000003,
      "end": 282.08000000000004,
      "text": " the whole organization, it is something important."
    },
    {
      "speakerLabel": "spk_1",
      "start": 282.08000000000004,
      "end": 286.24,
      "text": " And one of the important factors there is that while buckets are created in a specific"
    },
    {
      "speakerLabel": "spk_1",
      "start": 286.24,
      "end": 289.62,
      "text": " region, the names themselves are globally unique."
    },
    {
      "speakerLabel": "spk_1",
      "start": 289.62,
      "end": 291.48,
      "text": " So avoiding collisions is important."
    },
    {
      "speakerLabel": "spk_1",
      "start": 291.48,
      "end": 294.68,
      "text": " You can think of them like domain names and you might even have people squatting on them"
    },
    {
      "speakerLabel": "spk_1",
      "start": 294.68,
      "end": 296.16,
      "text": " like domain names."
    },
    {
      "speakerLabel": "spk_1",
      "start": 296.16,
      "end": 298.24,
      "text": " So there's a couple of recommendations there."
    },
    {
      "speakerLabel": "spk_1",
      "start": 298.24,
      "end": 301.12,
      "text": " So one thing is to avoid personally identifiable information."
    },
    {
      "speakerLabel": "spk_1",
      "start": 301.12,
      "end": 304.92,
      "text": " Like if you're having a multi-tenanted app, don't include the customer's name or a tenant's"
    },
    {
      "speakerLabel": "spk_1",
      "start": 304.92,
      "end": 305.92,
      "text": " name in the bucket."
    },
    {
      "speakerLabel": "spk_1",
      "start": 305.92,
      "end": 310.12,
      "text": " You know, that makes it very difficult to delete that information afterwards."
    },
    {
      "speakerLabel": "spk_1",
      "start": 310.12,
      "end": 314.16,
      "text": " The bucket name could also be then be exposed in like various cases like API calls, signed"
    },
    {
      "speakerLabel": "spk_1",
      "start": 314.16,
      "end": 316.84000000000003,
      "text": " URLs, or even DNS requests."
    },
    {
      "speakerLabel": "spk_1",
      "start": 316.84000000000003,
      "end": 320.64,
      "text": " So then when it comes to making them globally unique, well, you can include a unique portion"
    },
    {
      "speakerLabel": "spk_1",
      "start": 320.64,
      "end": 325.2,
      "text": " and that could be a hash or it could be a combination of like the region, the account"
    },
    {
      "speakerLabel": "spk_1",
      "start": 325.2,
      "end": 327.04,
      "text": " ID and the environment."
    },
    {
      "speakerLabel": "spk_1",
      "start": 327.04,
      "end": 332.12,
      "text": " So one example would be like ACME, project one, production and the account ID, and then"
    },
    {
      "speakerLabel": "spk_1",
      "start": 332.12,
      "end": 333.12,
      "text": " the region name."
    },
    {
      "speakerLabel": "spk_1",
      "start": 333.12,
      "end": 338,
      "text": " And that will generally make it pretty difficult to have a collision in bucket name, but you"
    },
    {
      "speakerLabel": "spk_1",
      "start": 338,
      "end": 343.08000000000004,
      "text": " might not like this because it publicly exposes some information like the account ID and that"
    },
    {
      "speakerLabel": "spk_1",
      "start": 343.08000000000004,
      "end": 346,
      "text": " might be for your tastes or for your compliance."
    },
    {
      "speakerLabel": "spk_1",
      "start": 346,
      "end": 349.04,
      "text": " So instead of that, you could just have a hash of all of those elements."
    },
    {
      "speakerLabel": "spk_1",
      "start": 349.04,
      "end": 352.14000000000004,
      "text": " I still think it's kind of nice to have some of those things visible just for readability"
    },
    {
      "speakerLabel": "spk_1",
      "start": 352.14000000000004,
      "end": 356.48,
      "text": " and troubleshooting if you can kind of look at a bucket name and see where it lives, but"
    },
    {
      "speakerLabel": "spk_1",
      "start": 356.48,
      "end": 358.24,
      "text": " that mightn't suit your organization."
    },
    {
      "speakerLabel": "spk_1",
      "start": 358.24,
      "end": 362.6,
      "text": " But I think either approach is generally good and it is a good idea to have a random part"
    },
    {
      "speakerLabel": "spk_1",
      "start": 362.6,
      "end": 367.68,
      "text": " in it just in case there's that small chance that somebody else happens to have taken or"
    },
    {
      "speakerLabel": "spk_1",
      "start": 367.68,
      "end": 374.84000000000003,
      "text": " maliciously squats on a bucket name that has an account ID that you have and your region."
    },
    {
      "speakerLabel": "spk_1",
      "start": 374.84000000000003,
      "end": 377.78000000000003,
      "text": " The reason for including a region, by the way, is that you might start off with a bucket"
    },
    {
      "speakerLabel": "spk_1",
      "start": 377.78000000000003,
      "end": 381.5,
      "text": " in one region, but later decide that you want cross-region replication."
    },
    {
      "speakerLabel": "spk_1",
      "start": 381.5,
      "end": 385.68,
      "text": " And then you can just follow the same convention and have a similarly named bucket just with"
    },
    {
      "speakerLabel": "spk_1",
      "start": 385.68,
      "end": 388.92,
      "text": " a different region identifier in it."
    },
    {
      "speakerLabel": "spk_1",
      "start": 388.92,
      "end": 393.78000000000003,
      "text": " Now if you're using CloudFormation to generate your bucket, if you don't put the bucket name"
    },
    {
      "speakerLabel": "spk_1",
      "start": 393.78000000000003,
      "end": 397.8,
      "text": " in the template, it will just create one for you and it will do that random identifier"
    },
    {
      "speakerLabel": "spk_1",
      "start": 397.8,
      "end": 399.32,
      "text": " part for you as well."
    },
    {
      "speakerLabel": "spk_1",
      "start": 399.32,
      "end": 403.24,
      "text": " So it'll take the stack name that you're using in CloudFormation and then just append something"
    },
    {
      "speakerLabel": "spk_1",
      "start": 403.24,
      "end": 406.62,
      "text": " like a 12 character suffix onto the end."
    },
    {
      "speakerLabel": "spk_1",
      "start": 406.62,
      "end": 410.48,
      "text": " So it doesn't, it isn't very readable, but it does help to automatically avoid those"
    },
    {
      "speakerLabel": "spk_1",
      "start": 410.48,
      "end": 411.48,
      "text": " naming collisions."
    },
    {
      "speakerLabel": "spk_1",
      "start": 411.48,
      "end": 415.32,
      "text": " And then you can just publish that bucket name somewhere like in an SSN parameter or"
    },
    {
      "speakerLabel": "spk_1",
      "start": 415.32,
      "end": 419.44,
      "text": " a CloudFormation output where other people can use it."
    },
    {
      "speakerLabel": "spk_1",
      "start": 419.44,
      "end": 420.44,
      "text": " That's bucket naming."
    },
    {
      "speakerLabel": "spk_1",
      "start": 420.44,
      "end": 424.12,
      "text": " So it's a good idea to know exactly what your bucket name in convention is, have it written"
    },
    {
      "speakerLabel": "spk_1",
      "start": 424.12,
      "end": 428.3,
      "text": " down, enforce it, and then you don't really have to worry about it anymore and you don't"
    },
    {
      "speakerLabel": "spk_1",
      "start": 428.3,
      "end": 431.84,
      "text": " end up with different kind of name buckets all over the place and a bit of a mess."
    },
    {
      "speakerLabel": "spk_1",
      "start": 431.84,
      "end": 434.9,
      "text": " Beyond that, what other best practices do we need to think about Luciano when we're"
    },
    {
      "speakerLabel": "spk_1",
      "start": 434.9,
      "end": 450.79999999999995,
      "text": " setting up buckets for the first time?"
    },
    {
      "speakerLabel": "spk_2",
      "start": 450.8,
      "end": 476.5,
      "text": " Okay."
    },
    {
      "speakerLabel": "spk_2",
      "start": 506.5,
      "end": 523.3,
      "text": " Mmm and slowly chill."
    },
    {
      "speakerLabel": "spk_2",
      "start": 523.3,
      "end": 527.76,
      "text": " Mmm."
    },
    {
      "speakerLabel": "spk_2",
      "start": 527.76,
      "end": 532.18,
      "text": " mmm"
    },
    {
      "speakerLabel": "spk_1",
      "start": 536.22,
      "end": 540.3000000000001,
      "text": " Yeah there are definitely a good few tips we can share for creating buckets for the first time or even changing the configuration of existing"
    },
    {
      "speakerLabel": "spk_1",
      "start": 540.3000000000001,
      "end": 545.98,
      "text": " buckets you have if you don't have some level of observability. So one is to enable logging and"
    },
    {
      "speakerLabel": "spk_1",
      "start": 545.98,
      "end": 551.1800000000001,
      "text": " there's a couple of ways of doing this. You can with CloudTrail enable data events on S3 and then"
    },
    {
      "speakerLabel": "spk_1",
      "start": 551.1800000000001,
      "end": 556.46,
      "text": " you'll get an audit log in CloudTrail of things like gets and puts on an S3 bucket. So that gives"
    },
    {
      "speakerLabel": "spk_1",
      "start": 556.46,
      "end": 561.5,
      "text": " you lots of detail, user identity information, all that stuff you get with the control events in"
    },
    {
      "speakerLabel": "spk_1",
      "start": 561.5,
      "end": 565.34,
      "text": " CloudTrail. But data events have an additional cost and if you've got lots of read and writes"
    },
    {
      "speakerLabel": "spk_1",
      "start": 565.34,
      "end": 570.7800000000001,
      "text": " from your buckets that can be very costly actually it can be more significant than the S3 storage"
    },
    {
      "speakerLabel": "spk_1",
      "start": 570.7800000000001,
      "end": 576.94,
      "text": " cost itself depending on your usage. So it isn't something I would recommend turning on by default"
    },
    {
      "speakerLabel": "spk_1",
      "start": 576.94,
      "end": 581.74,
      "text": " but it is powerful and you can just enable it for a subset of a bucket like a prefix or you can just"
    },
    {
      "speakerLabel": "spk_1",
      "start": 581.74,
      "end": 588.14,
      "text": " enable it for write actions if you don't want to log all of the reads. If you want a similar level"
    },
    {
      "speakerLabel": "spk_1",
      "start": 588.14,
      "end": 592.14,
      "text": " of kind of audit logging capability but don't want to pay through the nose the other option is to"
    },
    {
      "speakerLabel": "spk_1",
      "start": 592.14,
      "end": 599.18,
      "text": " turn on server access logging and then you just get a simple HTTP common log format access log"
    },
    {
      "speakerLabel": "spk_1",
      "start": 599.18,
      "end": 604.54,
      "text": " which gets placed into another bucket and it just gives you a kind of simpler information like"
    },
    {
      "speakerLabel": "spk_1",
      "start": 604.54,
      "end": 611.34,
      "text": " where the request or IP is and the HTTP status codes, the time, the object size. It doesn't give"
    },
    {
      "speakerLabel": "spk_1",
      "start": 611.34,
      "end": 615.74,
      "text": " you as much detail as CloudTrail data events but it is a lot cheaper. So I think that's a good one"
    },
    {
      "speakerLabel": "spk_1",
      "start": 615.74,
      "end": 619.98,
      "text": " to turn on by default so that's one to add to the list. Then we've got metrics. What can we do when"
    },
    {
      "speakerLabel": "spk_1",
      "start": 619.98,
      "end": 625.02,
      "text": " it comes to getting insight through CloudWatch metrics?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 625.02,
      "end": 629.34,
      "text": " Yeah the nice thing is as many other AWS services is that you get some metrics out of the box. You don't need to configure anything."
    },
    {
      "speakerLabel": "spk_0",
      "start": 629.98,
      "end": 635.02,
      "text": " They are just there for you to use when you need them and some of these metrics for S3 are the"
    },
    {
      "speakerLabel": "spk_0",
      "start": 635.02,
      "end": 641.5,
      "text": " daily storage metrics. So basically the number of objects and the bucket storage size. There are"
    },
    {
      "speakerLabel": "spk_0",
      "start": 641.5,
      "end": 647.26,
      "text": " additional metrics that you can enable. For instance request metrics and you can create"
    },
    {
      "speakerLabel": "spk_0",
      "start": 647.26,
      "end": 651.1,
      "text": " different configurations also for different prefixes so it's not global for a bucket. You"
    },
    {
      "speakerLabel": "spk_0",
      "start": 651.1,
      "end": 656.54,
      "text": " can be more fine-grained if you want to and basically the idea is that you will get a one"
    },
    {
      "speakerLabel": "spk_0",
      "start": 656.54,
      "end": 663.26,
      "text": " minute level granularity where you can see the number of head, get, put and delete requests. Where"
    },
    {
      "speakerLabel": "spk_0",
      "start": 663.26,
      "end": 669.42,
      "text": " you can see the number of 500 or 400 types of errors. You can also see the total latency and"
    },
    {
      "speakerLabel": "spk_0",
      "start": 669.42,
      "end": 674.3,
      "text": " the first byte latency which can be very useful if you're trying to troubleshoot more kind of"
    },
    {
      "speakerLabel": "spk_0",
      "start": 674.3,
      "end": 681.0999999999999,
      "text": " performance oriented rather than just error type of things. And you can also, there is a"
    },
    {
      "speakerLabel": "spk_0",
      "start": 681.0999999999999,
      "end": 686.9399999999999,
      "text": " relatively new addition to S3 which is called S3 Storage Lens which is something that you can use"
    },
    {
      "speakerLabel": "spk_0",
      "start": 686.9399999999999,
      "end": 692.54,
      "text": " and it will give you kind of an overview across all the buckets in your organization and show you"
    },
    {
      "speakerLabel": "spk_0",
      "start": 692.54,
      "end": 699.42,
      "text": " useful metrics for kind of an aggregated view of all the buckets. Let's move to security then."
    },
    {
      "speakerLabel": "spk_0",
      "start": 699.42,
      "end": 705.26,
      "text": " What can we recommend there?"
    },
    {
      "speakerLabel": "spk_1",
      "start": 705.26,
      "end": 709.18,
      "text": " Yeah okay well this is the really important stuff and there's really two things you need to think about. First one is public access and the second one is encryption."
    },
    {
      "speakerLabel": "spk_1",
      "start": 709.8199999999999,
      "end": 713.66,
      "text": " So when we talk about public access this is where a lot of the horror stories have come out in the"
    },
    {
      "speakerLabel": "spk_1",
      "start": 713.66,
      "end": 720.06,
      "text": " media. Now new buckets prevent public access by default so now we've got good sensible defaults."
    },
    {
      "speakerLabel": "spk_1",
      "start": 720.06,
      "end": 726.2199999999999,
      "text": " You can also turn off the facility for people to create public buckets at an account level"
    },
    {
      "speakerLabel": "spk_1",
      "start": 726.22,
      "end": 730.86,
      "text": " so that is something I would definitely recommend. It makes it a lot easier. You can also put in"
    },
    {
      "speakerLabel": "spk_1",
      "start": 730.86,
      "end": 736.86,
      "text": " alerting of course. When you disable public access, when you block public access what you're doing is"
    },
    {
      "speakerLabel": "spk_1",
      "start": 736.86,
      "end": 743.6600000000001,
      "text": " you're essentially preventing users from doing things like creating public ACLs. So with buckets"
    },
    {
      "speakerLabel": "spk_1",
      "start": 743.6600000000001,
      "end": 749.34,
      "text": " you have IAM controls like with every other AWS service but ACLs are kind of an older access"
    },
    {
      "speakerLabel": "spk_1",
      "start": 749.34,
      "end": 754.3000000000001,
      "text": " control mechanism that came with buckets initially and they're less commonly used these days and"
    },
    {
      "speakerLabel": "spk_1",
      "start": 754.3,
      "end": 761.8199999999999,
      "text": " somewhat deprecated I would say but they are still used for various specific scenarios because ACLs"
    },
    {
      "speakerLabel": "spk_1",
      "start": 761.8199999999999,
      "end": 767.9,
      "text": " still allow you to have access on an individual object level so you can associate an ACL with"
    },
    {
      "speakerLabel": "spk_1",
      "start": 767.9,
      "end": 771.9799999999999,
      "text": " an individual object for very fine-grained control but if you don't need that you generally don't"
    },
    {
      "speakerLabel": "spk_1",
      "start": 771.9799999999999,
      "end": 777.66,
      "text": " need them so you can generally avoid ACLs in general these days. Then you have bucket"
    },
    {
      "speakerLabel": "spk_1",
      "start": 777.66,
      "end": 783.9,
      "text": " policies. So bucket policies you should also think about okay what's my boundary here how far do I"
    },
    {
      "speakerLabel": "spk_1",
      "start": 783.9,
      "end": 788.62,
      "text": " want people to be able to be from my bucket when they access it so it's what you can use to enable"
    },
    {
      "speakerLabel": "spk_1",
      "start": 788.62,
      "end": 793.66,
      "text": " cross-account access but you can also use it to restrict access so it can restrict access to users"
    },
    {
      "speakerLabel": "spk_1",
      "start": 793.66,
      "end": 799.9,
      "text": " within a VPC or accessing the bucket from a VPC endpoint or accessing it from a specific"
    },
    {
      "speakerLabel": "spk_1",
      "start": 799.9,
      "end": 805.9,
      "text": " organization so with IAM condition keys you can say okay allow everybody within my organization"
    },
    {
      "speakerLabel": "spk_1",
      "start": 805.9,
      "end": 810.9399999999999,
      "text": " to read from this bucket and of course you can do all the usual fine-grained access control you can"
    },
    {
      "speakerLabel": "spk_1",
      "start": 810.94,
      "end": 817.58,
      "text": " with IAM. So that helps you to avoid public access and just keep your request boundary to make sure"
    },
    {
      "speakerLabel": "spk_1",
      "start": 817.58,
      "end": 821.9000000000001,
      "text": " people can access it from only within your network or whatever else you need. The other important"
    },
    {
      "speakerLabel": "spk_1",
      "start": 821.9000000000001,
      "end": 827.1800000000001,
      "text": " thing is then encryption. Now since I think January of this year bucket encryption is now on by"
    },
    {
      "speakerLabel": "spk_1",
      "start": 827.1800000000001,
      "end": 833.34,
      "text": " default and new objects are encrypted with server-side encryption there's three options"
    },
    {
      "speakerLabel": "spk_1",
      "start": 833.34,
      "end": 839.74,
      "text": " when it comes to encryption on AWS SSS3. The first one is the the simplest one and that's SSE"
    },
    {
      "speakerLabel": "spk_1",
      "start": 839.74,
      "end": 845.26,
      "text": " S3 for server-side encryption S3 and that's when AWS manages the key and the encryption for you"
    },
    {
      "speakerLabel": "spk_1",
      "start": 845.26,
      "end": 850.46,
      "text": " and you don't have to think about it. Now then you have the other extreme which is customer key"
    },
    {
      "speakerLabel": "spk_1",
      "start": 850.46,
      "end": 855.02,
      "text": " encryption which is when you manage and store your key and you give the key to AWS every time"
    },
    {
      "speakerLabel": "spk_1",
      "start": 855.02,
      "end": 859.82,
      "text": " you make a request and it will do the encryption and decryption for you but that has a lot of"
    },
    {
      "speakerLabel": "spk_1",
      "start": 859.82,
      "end": 864.22,
      "text": " burden associated with it because you have to manage distribution storage and rotation of those"
    },
    {
      "speakerLabel": "spk_1",
      "start": 864.22,
      "end": 871.34,
      "text": " keys yourself. So the middle ground is SSE KMS where you have control over the keys but AWS"
    },
    {
      "speakerLabel": "spk_1",
      "start": 871.34,
      "end": 876.38,
      "text": " still stores them so you can have a customer managed key or the AWS managed key. Now I think"
    },
    {
      "speakerLabel": "spk_1",
      "start": 876.38,
      "end": 881.9,
      "text": " in general a customer managed key is the preferred option since you have control and additional"
    },
    {
      "speakerLabel": "spk_1",
      "start": 881.9,
      "end": 884.94,
      "text": " security but you don't have the overhead of storing and distributing that key yourself as"
    },
    {
      "speakerLabel": "spk_1",
      "start": 884.94,
      "end": 890.62,
      "text": " you do with SSE customer encryption and the thing about using SSE KMS it means that even if your"
    },
    {
      "speakerLabel": "spk_1",
      "start": 890.62,
      "end": 895.42,
      "text": " bucket is compromised so somebody gets credentials that allow access to the bucket they would also"
    },
    {
      "speakerLabel": "spk_1",
      "start": 895.42,
      "end": 899.26,
      "text": " need credentials with access to the KMS key if they were actually going to read that data."
    },
    {
      "speakerLabel": "spk_1",
      "start": 900.0600000000001,
      "end": 906.22,
      "text": " So this is the really important point here so I think KMS with a customer managed key"
    },
    {
      "speakerLabel": "spk_1",
      "start": 907.74,
      "end": 913.66,
      "text": " and SSE KMS is the best balance here and there was actually a good article by Yan Cui recently"
    },
    {
      "speakerLabel": "spk_1",
      "start": 913.66,
      "end": 917.5,
      "text": " who just mentions the fact that just because public encryption by default is now an option"
    },
    {
      "speakerLabel": "spk_1",
      "start": 917.5,
      "end": 922.3,
      "text": " in AWS your job isn't done. We'll provide the link to that link in the show notes as well because"
    },
    {
      "speakerLabel": "spk_1",
      "start": 922.3,
      "end": 927.26,
      "text": " that was a good one and well worth pointing out. So that's another one for our list SSE KMS."
    },
    {
      "speakerLabel": "spk_1",
      "start": 927.82,
      "end": 934.06,
      "text": " What else have we got?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 934.06,
      "end": 939.66,
      "text": " I think another interesting point could be integration because very often you don't use S3 like standalone you will use it as an integration point for other things that you"
    },
    {
      "speakerLabel": "spk_0",
      "start": 939.66,
      "end": 946.7,
      "text": " are building and there are different ways to trigger events or to interact with the life cycle"
    },
    {
      "speakerLabel": "spk_0",
      "start": 946.7,
      "end": 951.34,
      "text": " of objects in S3 so let's try to cover some of them because some of these will have an impact"
    },
    {
      "speakerLabel": "spk_0",
      "start": 951.34,
      "end": 956.86,
      "text": " on the configuration of the packet. So for instance one way is what is called S3 notifications"
    },
    {
      "speakerLabel": "spk_0",
      "start": 956.86,
      "end": 963.34,
      "text": " probably one of the oldest notification mechanism in S3 which basically allows you to trigger"
    },
    {
      "speakerLabel": "spk_0",
      "start": 963.98,
      "end": 969.9000000000001,
      "text": " a notification to either Lambda or SQS every time that there is a change in a packet like a new file"
    },
    {
      "speakerLabel": "spk_0",
      "start": 969.9000000000001,
      "end": 976.1400000000001,
      "text": " being added and that requires you to explicitly configure and enable that notification mechanism."
    },
    {
      "speakerLabel": "spk_0",
      "start": 976.14,
      "end": 981.74,
      "text": " So something that you might want to do if you are thinking as that kind of use case for your"
    },
    {
      "speakerLabel": "spk_0",
      "start": 981.74,
      "end": 987.34,
      "text": " particular bucket. There is another alternative which is crowd traded events then there is another"
    },
    {
      "speakerLabel": "spk_0",
      "start": 987.34,
      "end": 992.78,
      "text": " one which is probably one of the newest which is through EventBridge so you can enable EventBridge"
    },
    {
      "speakerLabel": "spk_0",
      "start": 992.78,
      "end": 997.9,
      "text": " notification and this is probably the most recommended way these days. So once you turn"
    },
    {
      "speakerLabel": "spk_0",
      "start": 997.9,
      "end": 1002.9399999999999,
      "text": " this feature on basically you don't have to do any change you can just listen to events in EventBridge"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1002.94,
      "end": 1007.9000000000001,
      "text": " and you don't pay additional charges either for processing because you get for instance you're"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1007.9000000000001,
      "end": 1011.9000000000001,
      "text": " just going to configure a Lambda to be triggered you are only going to pay for the execution of"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1011.9000000000001,
      "end": 1017.74,
      "text": " that Lambda. Also it's very interesting that you can use EventBridge content filtering if you want"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1017.74,
      "end": 1023.34,
      "text": " to do more in-depth matching for specific events for instance maybe you're not interested in all"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1023.34,
      "end": 1028.8600000000001,
      "text": " the files maybe only the files with a specific prefix so you can do that through EventBridge"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1028.86,
      "end": 1033.58,
      "text": " content filtering."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1033.58,
      "end": 1036.9399999999998,
      "text": " It's nice that they added that one because in the past we had you know the three notifications which meant you had to go and modify the bucket which wasn't always possible"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1037.5,
      "end": 1041.34,
      "text": " you know especially if you were just deploying a new CloudFormation stack and then the CloudTrail"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1041.34,
      "end": 1047.1799999999998,
      "text": " data events was like okay it could be costly as well you could you could still access them"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1047.1799999999998,
      "end": 1052.86,
      "text": " through EventBridge but it could be slow and then you had the additional cost of data events which"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1052.86,
      "end": 1058.4599999999998,
      "text": " caught me out a few times I have to say so I definitely think adding the new EventBridge method"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1058.46,
      "end": 1065.98,
      "text": " to the checklist is a good no-brainer for creating new buckets. So there are a couple of other"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1065.98,
      "end": 1069.26,
      "text": " settings that we might consider I wouldn't necessarily put them on the must-have list"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1069.26,
      "end": 1072.7,
      "text": " but there's some nice to haves that you might think about depending on your context and the"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1072.7,
      "end": 1078.3,
      "text": " workload one of them is well a couple of them I suppose in the area of compliance and security are"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1078.3,
      "end": 1083.3400000000001,
      "text": " MFA delete so you can enforce that multi-factor authentication is enabled for the principal"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1083.3400000000001,
      "end": 1088.38,
      "text": " trying to delete an object it's a little bit cumbersome to enforce in some cases because now"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1088.38,
      "end": 1093.98,
      "text": " with things like SSO identities you don't even have the MFA flag in some cases but you know there"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1093.98,
      "end": 1098.6200000000001,
      "text": " are ways around that and another one is object locking so you can enable an object lock to"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1098.6200000000001,
      "end": 1103.66,
      "text": " prevent objects being deleted for a period as well that's often a compliance situation."
    },
    {
      "speakerLabel": "spk_1",
      "start": 1104.46,
      "end": 1107.9,
      "text": " We mentioned replication I think you mentioned it a few times with Lithiano and it is something"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1107.9,
      "end": 1111.8200000000002,
      "text": " to think about from the get-go will I be replicating this to another region another"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1111.8200000000002,
      "end": 1116.5400000000002,
      "text": " bucket how much data will I be replicating do I need to set this up from day one just so I have"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1116.54,
      "end": 1121.02,
      "text": " all that data there from the start and to test it out and see how replication works how long it"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1121.02,
      "end": 1127.18,
      "text": " takes and to understand all of the different nuances with it. Lifecycle policies we mentioned"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1127.18,
      "end": 1132.06,
      "text": " today here there's other different storage tiers with different costs associated with them and you"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1132.06,
      "end": 1136.86,
      "text": " can move data between the tiers it can get a bit complicated but you can also save a lot of money"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1136.86,
      "end": 1141.42,
      "text": " there are some good cases of people saving a significant amount of cost I think Canva was a"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1141.42,
      "end": 1146.46,
      "text": " recent case study I saw come out where they saved a lot of money by using lifecycle policies so again"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1146.46,
      "end": 1152.94,
      "text": " do your calculations if you intend on using S3 for a lot of your data you might save significantly"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1152.94,
      "end": 1158.94,
      "text": " and you can even turn on intelligent tiering from day one that might give you a good balance"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1158.94,
      "end": 1164.38,
      "text": " between complexity and cost savings from the start. The last one is access points and these"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1164.38,
      "end": 1168.38,
      "text": " are being used more and more for different S3 scenarios we talked about them for S3 object"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1168.38,
      "end": 1172.6200000000001,
      "text": " lambdas which leverage access points but fundamentally it's just a way of having another"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1172.62,
      "end": 1178.3,
      "text": " way to access S3 buckets without using the bucket name instead you use a different access point name"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1178.3,
      "end": 1183.34,
      "text": " which is generated for you and it allows you to have a dedicated resource policy with specific"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1183.34,
      "end": 1187.26,
      "text": " security controls around that access point so it allows you to have different access modes for"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1187.26,
      "end": 1193.02,
      "text": " different people and this is something that's also leveraged in the new global access points support"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1193.02,
      "end": 1198.1399999999999,
      "text": " so if you do have replication across two different regions with buckets in separate regions you can"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1198.14,
      "end": 1204.0600000000002,
      "text": " have a global access point which allows users to access from the region with lowest latency"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1205.3400000000001,
      "end": 1210.46,
      "text": " so those are all things to research and consider as part of setting up S3 buckets"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1210.46,
      "end": 1217.74,
      "text": " not necessarily must-haves but maybe before we wrap up Luciano could we summarize our checklist of"
    },
    {
      "speakerLabel": "spk_1",
      "start": 1217.74,
      "end": 1223.5,
      "text": " must-dos for bucket creation?"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1223.5,
      "end": 1228.86,
      "text": " Sure so the first one that we have is one once you create a new bucket you should turn on request server access logging because it's easy and it should be"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1228.86,
      "end": 1233.5,
      "text": " relatively cheap and it will give you that bit of visibility that you might want to have to see"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1233.5,
      "end": 1238.62,
      "text": " what's going on in a bucket then you might want to turn on request metrics just to get a better"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1239.26,
      "end": 1245.02,
      "text": " more detailed set of metrics that you can use again for building dashboards and for troubleshooting"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1245.02,
      "end": 1250.86,
      "text": " latency issues or things like that then we have enabled versioning again extra peace of mind in"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1250.86,
      "end": 1255.82,
      "text": " case you might be worried that some file might be deleted accidentally this one might be more"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1255.82,
      "end": 1260.78,
      "text": " worth it in production than in other environments just because of the cost implications of basically"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1260.78,
      "end": 1267.74,
      "text": " having multiple copies of the same object as you evolve it use global unique collision"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1268.6999999999998,
      "end": 1273.02,
      "text": " well basically using names that will help you to avoid collisions with other bucket names"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1273.02,
      "end": 1279.02,
      "text": " again remember that bucket names are global across all accounts or regions so make sure to figure"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1279.02,
      "end": 1283.66,
      "text": " out a way that is consistent but at the same time reduces the chances of having collisions with"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1283.66,
      "end": 1288.3799999999999,
      "text": " either in the same organization and even with other organization that you don't even have control on"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1289.18,
      "end": 1293.58,
      "text": " you can turn on event bridge notifications because it's probably the simplest way to create"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1293.58,
      "end": 1299.58,
      "text": " integrations on top of files being created or deleted or modified in S3 then in terms of"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1299.58,
      "end": 1306.46,
      "text": " encryption probably the easiest approach is to use SSC KMS with a customer managed key"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1306.46,
      "end": 1311.1000000000001,
      "text": " and finally make sure to disable public access that should happen by default with new buckets"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1311.1000000000001,
      "end": 1316.06,
      "text": " but just be sure if you are revisiting older buckets just make sure that that's a setting that"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1316.06,
      "end": 1321.18,
      "text": " is there so that's everything we have for this episode i don't know if you have any other"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1321.18,
      "end": 1326.14,
      "text": " suggestion or best practices that you have been using please let us know share it with us in a"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1326.14,
      "end": 1332.38,
      "text": " comment down below or reach out to us on twitter or on linkedin and we will be more than happy to"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1332.38,
      "end": 1337.5,
      "text": " chat with you and learn from you if you found value in this episode also please remember to"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1337.5,
      "end": 1342.7800000000002,
      "text": " give us some kind of feedback to write a review of the podcast or if you're watching it on youtube"
    },
    {
      "speakerLabel": "spk_0",
      "start": 1342.78,
      "end": 1365.02,
      "text": " to give us a thumbs up and subscribe thank you very much and we will see you in the next episode"
    }
  ]
}